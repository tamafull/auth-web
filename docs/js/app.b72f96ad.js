(function(e){function t(t){for(var a,c,i=t[0],u=t[1],s=t[2],d=0,p=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&p.push(o[c][0]),o[c]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);l&&l(t);while(p.length)p.shift()();return r.push.apply(r,s||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,i=1;i<n.length;i++){var u=n[i];0!==o[u]&&(a=!1)}a&&(r.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},o={app:0},r=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var l=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"04cc":function(e,t,n){},"28cf":function(e,t,n){"use strict";n("85c2")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),o={id:"app"},r={id:"nav",class:"header-area"},c={class:"header-menu"},i=Object(a["g"])("Home"),u=Object(a["g"])("Login"),s=Object(a["g"])("Logout"),l=Object(a["g"])("Signup");function d(e,t){var n=Object(a["w"])("router-link"),d=Object(a["w"])("router-view");return Object(a["q"])(),Object(a["d"])("div",o,[Object(a["e"])("div",r,[Object(a["e"])("ul",c,[Object(a["e"])("li",null,[Object(a["h"])(n,{to:"/"},{default:Object(a["C"])((function(){return[i]})),_:1})]),Object(a["e"])("li",null,[Object(a["h"])(n,{to:"/login"},{default:Object(a["C"])((function(){return[u]})),_:1})]),Object(a["e"])("li",null,[Object(a["h"])(n,{to:"/logout"},{default:Object(a["C"])((function(){return[s]})),_:1})]),Object(a["e"])("li",null,[Object(a["h"])(n,{to:"/signup"},{default:Object(a["C"])((function(){return[l]})),_:1})])])]),Object(a["h"])(d)])}n("d0b5");var p=n("6b0d"),b=n.n(p);const f={},h=b()(f,[["render",d]]);var j=h,v=n("bc3a"),O=n.n(v),g=(n("b0c0"),n("6c02")),m={class:"home"},k=Object(a["f"])('<h1 data-v-ca9668a0> Home </h1><p data-v-ca9668a0> For a guide and recipes on how to configure / customize this project,<br data-v-ca9668a0> check out the <a href="https://cli.vuejs.org" target="_blank" rel="noopener" data-v-ca9668a0>vue-cli documentation</a>. </p><h3 data-v-ca9668a0>Installed CLI Plugins</h3><ul data-v-ca9668a0><li data-v-ca9668a0><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-babel" target="_blank" rel="noopener" data-v-ca9668a0>babel</a></li><li data-v-ca9668a0><a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-eslint" target="_blank" rel="noopener" data-v-ca9668a0>eslint</a></li></ul><h3 data-v-ca9668a0>Essential Links</h3><ul data-v-ca9668a0><li data-v-ca9668a0><a href="https://vuejs.org" target="_blank" rel="noopener" data-v-ca9668a0>Core Docs</a></li><li data-v-ca9668a0><a href="https://forum.vuejs.org" target="_blank" rel="noopener" data-v-ca9668a0>Forum</a></li><li data-v-ca9668a0><a href="https://chat.vuejs.org" target="_blank" rel="noopener" data-v-ca9668a0>Community Chat</a></li><li data-v-ca9668a0><a href="https://twitter.com/vuejs" target="_blank" rel="noopener" data-v-ca9668a0>Twitter</a></li><li data-v-ca9668a0><a href="https://news.vuejs.org" target="_blank" rel="noopener" data-v-ca9668a0>News</a></li></ul><h3 data-v-ca9668a0>Ecosystem</h3><ul data-v-ca9668a0><li data-v-ca9668a0><a href="https://router.vuejs.org" target="_blank" rel="noopener" data-v-ca9668a0>vue-router</a></li><li data-v-ca9668a0><a href="https://vuex.vuejs.org" target="_blank" rel="noopener" data-v-ca9668a0>vuex</a></li><li data-v-ca9668a0><a href="https://github.com/vuejs/vue-devtools#vue-devtools" target="_blank" rel="noopener" data-v-ca9668a0>vue-devtools</a></li><li data-v-ca9668a0><a href="https://vue-loader.vuejs.org" target="_blank" rel="noopener" data-v-ca9668a0>vue-loader</a></li><li data-v-ca9668a0><a href="https://github.com/vuejs/awesome-vue" target="_blank" rel="noopener" data-v-ca9668a0>awesome-vue</a></li></ul>',8),w=[k];function y(e,t,n,o,r,c){return Object(a["q"])(),Object(a["d"])("div",m,w)}var _={name:"Home",created:function(){O.a.get("/api/v1/home",{headers:this.$store.getters.token}).catch((function(e){console.log(e)}))}};n("28cf");const C=b()(_,[["render",y],["__scopeId","data-v-ca9668a0"]]);var I=C,P=function(e){return Object(a["t"])("data-v-19530272"),e=e(),Object(a["r"])(),e},T=P((function(){return Object(a["e"])("dt",null,"メールアドレス",-1)})),V=P((function(){return Object(a["e"])("dt",null,"パスワード",-1)})),q=P((function(){return Object(a["e"])("button",{type:"submit"},"ログイン",-1)})),A=P((function(){return Object(a["e"])("br",null,null,-1)}));function L(e,t,n,o,r,c){return Object(a["q"])(),Object(a["d"])("form",{onSubmit:t[2]||(t[2]=Object(a["E"])((function(){return c.login&&c.login.apply(c,arguments)}),["prevent"]))},[Object(a["e"])("pre",null,Object(a["y"])(e.message),1),Object(a["e"])("dl",null,[T,Object(a["e"])("dd",null,[Object(a["D"])(Object(a["e"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.email=t})},null,512),[[a["A"],e.email]])])]),Object(a["e"])("dl",null,[V,Object(a["e"])("dd",null,[Object(a["D"])(Object(a["e"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.password=t})},null,512),[[a["A"],e.password]])])]),q,A],32)}var S={name:"Login",data:function(){return{email:"",password:"",message:" "}},methods:{login:function(){var e=this;O.a.post("/api/v1/auth/sign_in",{email:this.email,password:this.password}).then((function(t){e.$store.dispatch("setToken",{"Content-Type":"application/json","access-token":t.headers["access-token"],client:t.headers["client"],uid:t.headers["uid"]}),e.$router.push("/")})).catch((function(t){401==t.response.status?e.message="メールアドレスかパスワードが間違っています":console.log(t)}))}}};n("662e");const $=b()(S,[["render",L],["__scopeId","data-v-19530272"]]);var x=$,E={name:"Logout",created:function(){var e=this;O.a.delete("/api/v1/auth/sign_out",{headers:this.$store.getters.token}).then((function(){e.$store.dispatch("destroyToken"),e.$router.push("/login")}))}};const z=E;var D=z,U=function(e){return Object(a["t"])("data-v-4a71fc16"),e=e(),Object(a["r"])(),e},Z=U((function(){return Object(a["e"])("dt",null,"メールアドレス",-1)})),M={key:0},H=U((function(){return Object(a["e"])("p",{class:"error"},"※メールアドレスを入力してください",-1)})),K=[H],F={key:1},J=U((function(){return Object(a["e"])("p",{class:"error"},"OK",-1)})),N=[J],R=U((function(){return Object(a["e"])("dt",null,"パスワード",-1)})),B={key:0},G=U((function(){return Object(a["e"])("p",{class:"error"},"※パスワードは6桁以上で入力してください",-1)})),Q=[G],W={key:1},X=U((function(){return Object(a["e"])("p",{class:"error"},"OK",-1)})),Y=[X],ee=U((function(){return Object(a["e"])("dt",null,"パスワード確認",-1)})),te={key:0},ne=U((function(){return Object(a["e"])("p",{class:"error"},"※パスワードをもう一度入力してください",-1)})),ae=[ne],oe={key:1},re=U((function(){return Object(a["e"])("p",{class:"error"},"OK",-1)})),ce=[re],ie=U((function(){return Object(a["e"])("button",{type:"submit"},"登録",-1)})),ue=U((function(){return Object(a["e"])("br",null,null,-1)}));function se(e,t,n,o,r,c){return Object(a["q"])(),Object(a["d"])("form",{onSubmit:t[3]||(t[3]=Object(a["E"])((function(){return c.signup&&c.signup.apply(c,arguments)}),["prevent"]))},[Object(a["e"])("pre",null,Object(a["y"])(e.message),1),Object(a["e"])("dl",null,[Z,Object(a["e"])("dd",null,[Object(a["D"])(Object(a["e"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.email=t})},null,512),[[a["A"],e.email]])]),c.isInValidEmail?(Object(a["q"])(),Object(a["d"])("dd",M,K)):Object(a["c"])("",!0),c.isInValidEmail?Object(a["c"])("",!0):(Object(a["q"])(),Object(a["d"])("dd",F,N))]),Object(a["e"])("dl",null,[R,Object(a["e"])("dd",null,[Object(a["D"])(Object(a["e"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.password=t})},null,512),[[a["A"],e.password]])]),c.isInValidPasswordLength?(Object(a["q"])(),Object(a["d"])("dd",B,Q)):Object(a["c"])("",!0),c.isInValidPasswordLength?Object(a["c"])("",!0):(Object(a["q"])(),Object(a["d"])("dd",W,Y))]),Object(a["e"])("dl",null,[ee,Object(a["e"])("dd",null,[Object(a["D"])(Object(a["e"])("input",{"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.passwordConfirmation=t})},null,512),[[a["A"],e.passwordConfirmation]])]),c.isInValidPasswordConfirmation?(Object(a["q"])(),Object(a["d"])("dd",te,ae)):Object(a["c"])("",!0),c.isInValidPasswordConfirmation?Object(a["c"])("",!0):(Object(a["q"])(),Object(a["d"])("dd",oe,ce))]),ie,ue],32)}n("ac1f"),n("00b4");var le={name:"Signup",data:function(){return{email:"",password:"",passwordConfirmation:"",message:" "}},computed:{isInValidEmail:function(){var e=/^[a-zA-Z0-9_.+-]+@([a-zA-Z0-9][a-zA-Z0-9-]*[a-zA-Z0-9]*\.)+[a-zA-Z]{2,}$/i;return!e.test(this.email)},isInValidPasswordLength:function(){return this.password.length<6},isInValidPasswordConfirmation:function(){return""==this.passwordConfirmation||this.passwordConfirmation!==this.password}},methods:{signup:function(){var e=this;O.a.post("/api/v1/auth",{email:this.email,password:this.password,password_confirmation:this.passwordConfirmation}).then((function(t){e.$store.dispatch("setToken",{"Content-Type":"application/json","access-token":t.headers["access-token"],client:t.headers["client"],uid:t.headers["uid"]}),e.$router.push("/")})).catch((function(t){422==t.response.status?e.message="入力に誤りがあります":console.log(t)}))}}};n("9f7fa");const de=b()(le,[["render",se],["__scopeId","data-v-4a71fc16"]]);var pe=de,be=n("5502"),fe=n("0e44"),he=Object(fe["a"])({key:"devise-trial-token",paths:["token"],storage:window.sessionStorage}),je={token:""},ve={token:function(e){return e.token}},Oe={setToken:function(e,t){e.token=t},destroyToken:function(e){e.token=""}},ge={setToken:function(e,t){var n=e.commit;n("setToken",t)},destroyToken:function(e){var t=e.commit;t("destroyToken")}},me=Object(be["a"])({namespaced:!0,state:je,getters:ve,mutations:Oe,actions:ge,plugins:[he]}),ke=me,we=[{path:"/",name:"home",component:I},{path:"/login",name:"login",component:x},{path:"/logout",name:"logout",component:D},{path:"/signup",name:"signup",component:pe}],ye=Object(g["a"])({history:Object(g["b"])("/"),routes:we});ye.beforeEach((function(e,t,n){var a="login"==e.name||"signup"==e.name;a||ke.getters.token?a&&ke.getters.token?n({name:"home"}):n():n({name:"login"})}));var _e=ye,Ce=Object(a["b"])(j);Ce.use(_e),Ce.use(ke),Ce.mount("#app"),O.a.defaults.baseURL="http://localhost:3000"},"662e":function(e,t,n){"use strict";n("04cc")},"85c2":function(e,t,n){},"9f7fa":function(e,t,n){"use strict";n("d1e0")},d0b5:function(e,t,n){"use strict";n("fa17")},d1e0:function(e,t,n){},fa17:function(e,t,n){}});
//# sourceMappingURL=app.b72f96ad.js.map